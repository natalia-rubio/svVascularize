/* =====================
   GLOBAL THEME & TOKENS
   ===================== */
:root {
  /*  SimVascular blues  */
  --clr-primary-900: #002B4C;
  --clr-primary-700: #003d6b;
  --clr-primary-600: #00548b;
  --clr-primary-400: #1aa3ff;
  --clr-primary-200: #8dd6ff;

  /* Greys / surfaces */
  --clr-grey-700: #354652;
  --clr-grey-500: #5f7485;
  --clr-grey-300: #d9e4ec;
  --clr-grey-100: #ecf2f8;

  /* Accents */
  --clr-warning: #ffb627;
  --clr-danger:  #ff6b6b;
  --clr-success: #2ecc71;

  /* Backgrounds */
  --clr-bg:      #f7fbff;
  --clr-surface: #ffffff;

  /* Typography & radius */
  --font-sans: 'Montserrat','Helvetica Neue',Helvetica,Arial,sans-serif;
  --radius-sm: 4px;
  --radius-md: 8px;

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0,0,0,.08);
  --shadow-md: 0 4px 14px rgba(0,0,0,.1);

  /* Motion */
  --ease-fast: .15s ease-in-out;
}

/* =======  GLOBAL  ======= */
html { scroll-behavior: smooth; }
body {
  margin: 0;
  font-family: var(--font-sans);
  color: var(--clr-grey-700);
  background-color: var(--clr-bg);
  line-height: 1.65;
  -webkit-font-smoothing: antialiased;
}

.container { width: 92%; max-width: 1050px; margin-inline: auto; }

a {
  color: var(--clr-primary-400);
  text-decoration: none;
  transition: color var(--ease-fast);
}
a:hover, a:focus { color: var(--clr-primary-200); }

/* =======  NAVIGATION  ======= */
.topnav {
  position: sticky;
  top: 0;
  z-index: 1000;
  background-color: var(--clr-primary-700);
  color: var(--clr-surface);
  box-shadow: var(--shadow-sm);
  transition: background-color var(--ease-fast), box-shadow var(--ease-fast);
}
.topnav .container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 0;
}
.topnav h1 { font-size: 1.5rem; margin: 0; letter-spacing: -.5px; }

.topnav nav ul {
  display: flex;
  gap: 0.85rem;
  margin: 0;
  padding: 0;
  list-style: none;
  flex-wrap: wrap;
}
.topnav nav a {
  color: var(--clr-surface);
  font-size: .9rem;
  font-weight: 600;
  position: relative;
  padding: 0 .25rem;
}
.topnav nav a::after {
  content: "";
  position: absolute;
  left: 0; right: 0; bottom: -4px;
  height: 2px;
  background: var(--clr-primary-200);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform var(--ease-fast);
}
.topnav nav a:hover::after,
.topnav nav a:focus::after,
.topnav nav a.active::after {
  transform: scaleX(1);
}

/* Shrink effect when scrolling */
.topnav.scrolled { box-shadow: var(--shadow-md); background-color: var(--clr-primary-900); }

/* =======  HERO  ======= */
.hero {
  background: linear-gradient(135deg,var(--clr-primary-700) 0%,var(--clr-primary-400) 100%);
  color: var(--clr-surface);
  text-align: center;
  padding: 5rem 1rem 4rem;
  box-shadow: var(--shadow-md);
}
.hero h2 { font-size: 2.25rem; margin-top: 0; letter-spacing: -.5px; }

.cta {
  display: inline-block;
  margin-top: 1.25rem;
  padding: .8rem 1.6rem;
  background-color: var(--clr-primary-900);
  color: var(--clr-surface);
  font-weight: 600;
  border-radius: var(--radius-sm);
  transition: transform var(--ease-fast), background-color var(--ease-fast);
}
.cta:hover, .cta:focus { transform: translateY(-2px); background-color: var(--clr-primary-600); }

/* =======  CONTENT  ======= */
.content { padding: 2rem 0; }
main h2 {
  color: var(--clr-primary-700);
  border-bottom: 2px solid var(--clr-primary-400);
  padding-bottom: .3rem;
  margin-top: 3rem;
}

.figure-center {
  margin: 1rem 0;
  text-align: center;
}

.figure-center img {
  max-width: 100%;
  display: block;
  margin: 0 auto;
}

.figure-center figcaption {
  margin-top: 0.5rem;
  font-size: 0.85rem;
  color: var(--clr-grey-500);
}

/* Full-width blocks */
pre {
  background: var(--clr-grey-100);               /* light grey fill   */
  border: 1px solid var(--clr-grey-300);         /* subtle border     */
  border-left: 4px solid var(--clr-primary-400); /* blue accent bar   */
  border-radius: var(--radius-sm);
  margin: 1.5rem 0;
  padding: 1rem 1rem 1rem 1.25rem;               /* room after accent */
  overflow-x: auto;
  font-size: .9rem;
  line-height: 1.45;
  tab-size: 2;
  position: relative;                            /* for “Copy” badge  */
}

/* Remove the grey fill inside <code> so we don’t double up */
pre code { background: transparent; padding: 0; }

/* Inline <code> bits still get a pill background */
code {
  background: var(--clr-grey-100);
  padding: .18em .4em;
  border-radius: var(--radius-sm);
  font-size: .92em;
}

/* —— Copy-to-clipboard badge (appears on hover) —— */
pre[data-copy]::after {
  content: "Copy";                       /* ← plain quotes */
  font-size: .73rem;
  text-transform: uppercase;
  letter-spacing: .04em;
  background: var(--clr-primary-400);
  color: #fff;
  padding: .15rem .55rem;
  border-radius: var(--radius-sm);
  position: absolute;
  top: .55rem;
  right: .6rem;
  opacity: 0;
  transition: opacity var(--ease-fast);
  cursor: pointer;
}

pre[data-copy]:hover::after {
  opacity: 1;
}

/* Flash “Copied!” feedback */
pre.copied::after { content: "Copied!"; background: var(--clr-success); }

/* ─── Prism.js syntax colours (Python) ─────────────────────────── */
code[class*="language-"],
pre[class*="language-"] {
  color: var(--clr-grey-700);
  background: var(--clr-grey-100);
  text-shadow: none;
  font-family: Consolas, monospace;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata { color: #6a737d; font-style: italic; }

.token.keyword,
.token.boolean,
.token.selector,
.token.attr-name { color: #d73a49; }

.token.string,
.token.char,
.token.builtin { color: #032f62; }

.token.number,
.token.constant { color: #005cc5; }

.token.operator,
.token.punctuation { color: #24292e; }

.token.function { color: #6f42c1; }

.token.class-name { color: #e36209; }

.token.variable { color: #e36209; }

.token.deleted { background: #ffeef0; }
.token.inserted { background: #e6ffed; }

/* tables */
table { border-collapse: collapse; margin: 1.2rem 0; width: 100%; }
th, td { border: 1px solid var(--clr-grey-300); padding: .55rem; text-align: left; font-size: .95rem; }
th { background: var(--clr-grey-100); color: var(--clr-grey-700); }

/* callouts */
.callout {
  border-left: 4px solid var(--clr-warning);
  background: rgba(255,182,39,.15);
  padding: .75rem 1rem;
  margin: 1.25rem 0;
  border-radius: var(--radius-sm);
}

/* ─── TIP CALLOUT (blue variant of .callout) ─────────────────── */
.callout.tip {
  border-left-color: var(--clr-primary-400);          /* blue bar */
  background: rgba(26,163,255,.15);                   /* faint blue fill */
}
.callout.tip::before {
  content: "💡  ";                                    /* light-bulb icon */
  font-weight: 700;
}

/* ─── WARNING CALLOUT ──────────────────────────────────────────── */
.callout.warning {
  border-left-color: var(--clr-danger);          /* red bar          */
  background: rgba(255,107,107,.15);             /* faint red fill   */
}

/* =======  FOOTER  ======= */
footer {
  background-color: var(--clr-primary-900);
  color: var(--clr-surface);
  text-align: center;
  padding: 1rem 0;
  font-size: .85rem;
  margin-top: 4rem;
}

/* =======  RESPONSIVE  ======= */
@media (min-width: 800px) {
  body { padding: 0 2rem; }
  .hero h2 { font-size: 2.75rem; }
}


/* --- Appended by API reference integration --- */

/* =====================
   API REFERENCE LAYOUT
   ===================== */

/* Header (maps our .site-header to the existing .topnav look & feel) */
.site-header {
  position: sticky;
  top: 0;
  z-index: 1000;
  background-color: var(--clr-primary-700);
  color: var(--clr-surface);
  box-shadow: var(--shadow-sm);
  transition: background-color var(--ease-fast), box-shadow var(--ease-fast);
}
.site-header .header-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.9rem 0;
}
.site-header .brand {
  color: var(--clr-surface);
  font-weight: 700;
  letter-spacing: -.3px;
}
.site-header .primary-nav a {
  color: var(--clr-surface);
  font-weight: 600;
  margin-left: 1rem;
  position: relative;
}
.site-header .primary-nav a::after {
  content: "";
  position: absolute;
  left: 0; right: 0; bottom: -6px;
  height: 2px;
  background: var(--clr-primary-200);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform var(--ease-fast);
}
.site-header .primary-nav a:hover::after,
.site-header .primary-nav a:focus::after,
.site-header .primary-nav a.active::after {
  transform: scaleX(1);
}

/* Grid layout: left nav / content / right toc */
.doc-grid {
  display: grid;
  grid-template-columns: 260px 1fr 260px;
  gap: 2rem;
  padding: 1.5rem 0 0;
}
.sidebar { position: sticky; top: 5.5rem; align-self: start; }
.sidebar .sidebar-title { margin: 0 0 .5rem; font-size: 0.95rem; text-transform: uppercase; letter-spacing: .06em; color: var(--clr-grey-500); }
.sidebar .sidebar-section {
  background: var(--clr-surface);
  border: 1px solid var(--clr-grey-300);
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow-sm);
  padding: 0.75rem 0.85rem;
}
.left-nav .toc, .on-this-page .toc {
  margin: 0;
  padding-left: 1rem;
}
.left-nav .toc ol, .on-this-page .toc ol { list-style: none; margin: 0; padding-left: 0; }
.left-nav .toc li, .on-this-page .toc li { margin: .25rem 0; }
.left-nav .toc a, .on-this-page .toc a {
  color: var(--clr-grey-700);
  font-size: .92rem;
}
.left-nav .toc a.active, .on-this-page .toc a.active { color: var(--clr-primary-600); font-weight: 700; }

/* Content area */
.content {
  background: var(--clr-surface);
  border: 1px solid var(--clr-grey-300);
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow-sm);
  padding: 1.25rem 1.25rem;
}
.doc-header h1 { margin-top: 0; }
.muted { color: var(--clr-grey-500); font-size: 0.9rem; }

/* Autosummary table */
.api-table { border-collapse: collapse; width: 100%; margin: 1rem 0 1.5rem; }
.api-table thead th {
  position: sticky;
  top: 0;
  background: var(--clr-grey-100);
  z-index: 1;
}
.api-table th, .api-table td { border: 1px solid var(--clr-grey-300); padding: .5rem .6rem; }
.api-table tbody tr:nth-child(even) { background: rgba(0,0,0,.015); }

/* Signature blocks & field lists */
.sig { font-family: Consolas, monospace; font-weight: 600; }
.field-list { column-gap: 2rem; }
.field-list dt { font-weight: 700; }
.field-list dd { margin: 0 0 .6rem 0; color: var(--clr-grey-700); }

/* Admonitions (SciPy-like) */
.admonition {
  border-left: 4px solid var(--clr-grey-300);
  background: var(--clr-grey-100);
  padding: .75rem 1rem;
  margin: 1.25rem 0;
  border-radius: var(--radius-sm);
}
.admonition p { margin: 0; }
.admonition.info { border-left-color: var(--clr-primary-400); background: rgba(26,163,255,.12); }
.admonition.warning { border-left-color: var(--clr-danger); background: rgba(255,107,107,.12); }
.admonition.note { border-left-color: var(--clr-warning); background: rgba(255,182,39,.12); }
.admonition.seealso { border-left-color: var(--clr-success); background: rgba(46,204,113,.12); }

/* Heading anchor permalink */
.anchor {
  margin-left: .3rem;
  opacity: 0;
  text-decoration: none;
  font-weight: 700;
}
.content h2:hover .anchor,
.content h3:hover .anchor,
.content h4:hover .anchor { opacity: .8; }

/* Code blocks: add space for copy badge */
pre[data-copy] { cursor: pointer; }
pre[data-copy]::after { right: .75rem; top: .5rem; }

/* Responsive collapse */
@media (max-width: 1100px) {
  .doc-grid { grid-template-columns: 220px 1fr; }
  .on-this-page { display: none; }
}
@media (max-width: 800px) {
  .doc-grid { grid-template-columns: 1fr; }
  .left-nav { display: none; }
  .content { padding: 1rem; }
}